% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/causalegm.R
\name{causalegm}
\alias{causalegm}
\title{Main function for estimating causal effect in either binary or continuous treatment settings.}
\usage{
causalegm(
  x,
  y,
  v,
  z_dims = c(3, 3, 6, 6),
  output_dir = ".",
  dataset = "myData",
  lr = 2e-04,
  bs = 32,
  alpha = 1,
  beta = 1,
  gamma = 10,
  g_d_freq = 5,
  g_units = c(64, 64, 64, 64, 64),
  e_units = c(64, 64, 64, 64, 64),
  f_units = c(64, 32, 8),
  h_units = c(64, 32, 8),
  dv_units = c(64, 32, 8),
  dz_units = c(64, 32, 8),
  save_model = FALSE,
  binary_treatment = TRUE,
  use_z_rec = TRUE,
  use_v_gan = TRUE,
  random_seed = 123,
  n_iter = 30000,
  normalize = FALSE
)
}
\arguments{
\item{x}{is the treatment variable.}

\item{y}{is the potential outcome.}

\item{v}{is the covariates.}

\item{z_dims}{is the latent dimensions for \eqn{z_0,z_1,z_2,z_3} respectively. Total dimension should be much smaller than the dimension of covariates \eqn{v}. Default: c(3,3,6,6)}

\item{output_dir}{is the folder to save the results including model hyperparameters and the estimated causal effect. Default is ".".}

\item{dataset}{is the name for the input data. Default: "myData".}

\item{lr}{is the learning rate. Default: 0.0002.}

\item{bs}{is the batch size. Default: 32.}

\item{alpha}{is the coefficient for the reconstruction loss. Default: 1.}

\item{beta}{is the coefficient for the MSE loss of \eqn{x} and \eqn{y}. Default: 1.}

\item{gamma}{is the coefficient for the gradient penalty loss. Default: 10.}

\item{g_d_freq}{is the iteration frequency between training generator and discriminator in the Roundtrip framework. Default: 5.}

\item{g_units}{is the list of hidden nodes in the generator/decoder network. Default: c(64,64,64,64,64).}

\item{e_units}{is the list of hidden nodes in the encoder network. Default: c(64,64,64,64,64).}

\item{f_units}{is the list of hidden nodes in the f network for predicting \eqn{y}. Default: c(64,32,8).}

\item{h_units}{is the list of hidden nodes in the h network for predicting \eqn{x}. Default: c(64,32,8).}

\item{dv_units}{is the list of hidden nodes in the discriminator for distribution match \eqn{v}. Default: c(64,32,8).}

\item{dz_units}{is the list of hidden nodes in the discriminator for distribution match \eqn{z}. Default: c(64,32,8).}

\item{save_model}{whether to save the trained model. Default: FALSE.}

\item{binary_treatment}{whether the treatment is binary or continuous. Default: TRUE.}

\item{use_z_rec}{whether to use the reconstruction loss for \eqn{z}. Default: TRUE.}

\item{use_v_gan}{whether to use the GAN training for \eqn{v}. Default: TRUE.}

\item{random_seed}{is the random seed to fix randomness. Default: 123.}

\item{n_iter}{is the training iterations. Default: 30000.}

\item{normalize}{whether apply normalization to covariates. Default: FALSE.}
}
\value{
A trained causalEGM object.
}
\description{
This function takes observation data (x,y,v) as input, and estimate the ATE/ITE/ADRF.
}
\examples{
causalegm(X=X,Y=Y,V=V,yaml_file='example.yaml')
}
\references{
Qiao Liu, Zhongren Chen, Wing Hung Wong.  CausalEGM: a general causal inference framework by encoding generative modeling\link{J}. \emph{arXiv preprint arXiv:2212.05925, 2022}.
}
